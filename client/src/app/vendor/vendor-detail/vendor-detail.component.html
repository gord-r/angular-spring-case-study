<form [formGroup]="vendorForm" (ngSubmit)="updateSelectedVendor()">
  <div layout="row"></div>
  <div layout="row">
    <mat-form-field>
      <input matInput placeholder="Business Name" type="text" formControlName="name" />
      <mat-error *ngIf="name.errors && (name.dirty || name.touched)" align="end">Name is required</mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input matInput placeholder="Address 1" type="text" required formControlName="address1" />
      <mat-error *ngIf="address1.errors && (address1.dirty || address1.touched)" align="end">Address is required
      </mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input matInput placeholder="City" type="text" required formControlName="city" />
      <mat-error *ngIf="city.errors && (city.dirty || city.touched)" align="end">City is required</mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input matInput placeholder="Postal Code" type="text" required formControlName="postalcode" />
      <mat-error *ngIf="postalcode.errors && (postalcode.dirty || postalcode.touched)" align="end">
        <p *ngIf="postalcode.hasError('required')">Postal code is required.</p>
        <p *ngIf="
            !postalcode.hasError('required') &&
            postalcode.hasError('invalidPostal')
          ">
          Invalid format - should match H0H-0H0
        </p>
      </mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <mat-select matInput placeholder="Province/Territory" formControlName="province" flex required>
        <mat-option value="AB">Alberta</mat-option>
        <mat-option value="BC">British Columbia</mat-option>
        <mat-option value="MB">Manitoba</mat-option>
        <mat-option value="NB">New Brunswick</mat-option>
        <mat-option value="NL">Newfoundland and Labrador</mat-option>
        <mat-option value="NT">Northwest Territories</mat-option>
        <mat-option value="NS">Nova Scotia</mat-option>
        <mat-option value="NU">Nunavut</mat-option>
        <mat-option value="ON">Ontario</mat-option>
        <mat-option value="PE">Prince Edward Island</mat-option>
        <mat-option value="QC">Quebec</mat-option>
        <mat-option value="SK">Saskatchewan</mat-option>
        <mat-option value="YT">Yukon</mat-option>
      </mat-select>
      <mat-error *ngIf="province.errors && (province.dirty || province.touched)" align="end">Province is required
      </mat-error>
    </mat-form-field>
  </div>

  <div layout="row">
    <mat-form-field flex>
      <input matInput placeholder="Phone #" type="text" required formControlName="phone" />
      <mat-error *ngIf="phone.errors && (phone.dirty || phone.touched)" align="end">
        <p *ngIf="phone.hasError('required')">Phone# is required.</p>
        <p *ngIf="!phone.hasError('required') && phone.hasError('invalidPhone')">
          needs format - (###)###-####
        </p>
      </mat-error>
    </mat-form-field>
  </div>

  <div layout="row">
    <mat-form-field>
      <mat-select matInput placeholder="Vendor Type" formControlName="type" flex required>
        <mat-option value="Trusted">Trusted</mat-option>
        <mat-option value="Untrusted">Untrusted</mat-option>
      </mat-select>
      <mat-error *ngIf="type.errors && (type.dirty || type.touched)" align="end">Type is required</mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input matInput placeholder="Email" type="email" required formControlName="email" email />
      <mat-error *ngIf="email.errors && (email.dirty || email.touched)" align="end">
        <p *ngIf="email.hasError('required')">Email is required</p>
        <p *ngIf="!email.hasError('required')">Email format not valid</p>
      </mat-error>
    </mat-form-field>
  </div>
  <div class="mat-pad-sm">
    <span>
      <button mat-raised-button type="button" (click)="updateSelectedVendor()" [disabled]="!vendorForm.valid">
        Save
      </button>
    </span>

    <span>
      <button *ngIf="selectedVendor.id" mat-raised-button type="button"
        (click)="openDeleteDialog(selectedVendor)">Delete</button>
    </span>


    <span>
      <button mat-raised-button type="button" (click)="cancelled.emit(selectedVendor)">
        Cancel
      </button>
    </span>
  </div>
</form>